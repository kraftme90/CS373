---
layout: post
title:  "Malware Defenses"
date:   2018-07-16 22:01:12 -0700
categories: blog
permalink: /blog/malware-defenses.html
---

### Topics

 - Exploits and Vectors
 - States of Exploits
 - Protection
 - Yara Signatures
 - Blog

### Lecture

Within these lectures, we talked about how machines get infected, and what to do once they are infected.
I learned more about attack vectors, which can be anything from na√Øve users to malicious physical access.
With each vector there are certain attempts to protect the system, which I will mention later.

Once infected, through any means, the main goals of the malware are to hide itself, to persist over boots, and to execute it's payload, whatever that is.

1. Blends in/ Hides
 - Changes file names
 - Changes date/time stamp
 - Self sign

 - Bootkits or Rootkits
  - installed on lowest level of OS

2. Persists
   - System Startup
   - Windows Startup, like our first lab
   - Application Startup, using DLL
   - Scheduled, Autorun
   - Can live as just script in memory space
   - Attacks security systems

3. Execution (Goal)
   - Harvest info (passwords, process, log, docs)
   - Phone Home send back the info, using ssh or email or http

#### Protection

Education for better users
Web reputation like warning this website is bad
Policy in businesses
Physical protections like epoxy
Behavioral, finding malware using process behavior like memory execution without a source file
Best strategy is layered protections with different levels


1. Network Firewall, Network Intrusion Prevention
2. Message, Website, Network reputation
3. Host Firewall
4. Host IPS
5. Access Control, Anti-Malware

Bot net detection
Anti keyloggers
Firewall is heavy handed

Cloud data on malware
Decomposition- breaking open containers


#### Yara

Open Source language
Pattern matching scanning for files or Memory
made up of rules

Look for wierd things that stand out
   - Websites or ips

My Rules?

For the first one

```js
rule BadFile
{
  strings:
    $a="OFTWARE\\\\Boreland\\\\Delphi"
    $b="Jenna Jam"
    $c="OutOfMemory"
  condition:
    all of them
}
```
